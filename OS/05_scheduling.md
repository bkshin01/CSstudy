# ✔️ CPU 스케줄링

## 선점형 스케줄링과 비선점형 스케줄링의 차이를 말해보세요.
선점형은 CPU에 할당된 프로세스가 작업이 완전히 끝나지 않아도 강제적으로 기존 프로세스를 새로운 프로세스로 교체할 수 있는 스케줄링 방법입니다.<br>
비선점형은 반대로 CPU에 할당된 프로세스의 작업이 완전히 끝난 후에 새로운 프로세스로 교체하는 스케줄링 방법입니다.

<br>

## FCFS 스케줄링 알고리즘은 뭔가요? 얼마나 사용될까요?
First Come First Service의 약자로 준비 큐에 먼저 도착한 프로세스를 CPU에 할당하는 프로세스로 선택하는 스케줄링 알고리즘입니다.<br>
이 알고리즘은 항상 먼저 도착한 프로세스를 우선하기 때문에 프로세스의 실행 시간을 고려하지 않고 프로세스를 선택하게 됩니다.<br>
프로세스의 작업 시간 대비 대기 시간이 길어질 수 있는 취약점을 가지고 있어 많이 사용되는 알고리즘은 아닌 것으로 압니다.

<br>

## Shortest Job First 알고리즘은 어떨까요?
이는 수행시간이 가장 짧은 프로세스를 우선적으로 처리하여 준비 큐의 프로세스들의 대기 시간을 최소화하는 알고리즘입니다.<br>
실제로 어떤 프로세스의 수행 시간을 실행시키지 않고 알아낼 수 있는 방법이 거의 없기에 구현이 매우 어려운 알고리즘입니다.<br>
다만, 다음 프로세스의 수행 시간이 이전과 비슷할 것이라는 가정 하에 수학적으로 예측을 통해 구현할 수 있습니다.

## 실제로 어떤 알고리즘이 가장 많이 사용될까요?
Round Robin이나 Priority 스케줄링을 많이 사용하는 것으로 알고 있습니다.<br>
운영체제는 준비 큐에 있는 프로세스들을 정확히 time quantum 시간만큼만 CPU에 할당시키고, 곧바로 다음 프로세스와 교체시킵니다.
이렇게 스케줄링을 하면 다수의 프로세스를 여러번에 나눠 실행할 수 있어 반응속도가 중요한 시스템에서 유용하게 사용될 수 있습니다.<br>
Priority 스케줄링은 준비 큐에 있는 프로세스들을 우선순위에 따라 CPU에 할당하는 알고리즘입니다.
새로운 프로세스가 준비 큐에 도착했을 때, 우선순위가 높다면 도착 시간과는 관계없이 먼저 선택됩니다.

<br>

## 라운드 로빈 알고리즘의 단점은 없을까요?
라운드 로빈 알고리즘은 time quantum에 의존적입니다. 만약 준비 큐에 있는 각 프로세스의 수행 시간보다 길어지면 결국 FCFS와 동일한 스케줄링이 됩니다.<br>
반대로 너무 짧으면 프로세스의 컨텍스트 스위칭이 지나치게 자주 발생하여 오버헤드가 커질 수 있습니다.

<br>

## 그럼 priority 스케줄링의 단점은요?
`Starvation`문제가 발생할 수 있습니다.<br>
우선순위에 따라 스케줄링을 하게 되면 우선순위가 상대적으로 낮은 프로세스가 실행되지 못하고 장시간 준비 큐에 남아있는 상황을 말합니다.

<br>

## 기아 문제는 어떻게 해결해야 할까요?
두 가지 방법이 있습니다.<br>
첫 번째는 `Aging` 기법을 사용해 준비 큐에 오래 머무르는 프로세스의 우선순위를 점진적으로 높여주는 방식입니다.<br>
두 번째는 라운드 로빈 알고리즘과 함께 priority 스케줄링을 하는 것입니다. 라운드 로빈은 공정하게 모든 프로세스에게 CPU를 점유할 수 있도록 합니다.<br>
우선순위에 따라 프로세스들을 정렬하고, 이 프로세스들에 대해 라운드 로빈 알고리즘을 적용한다면 큐의 뒤에 위치한 프로세스도 CPU 점유의 기회를 받을 수 있게 됩니다.

<br>

## 멀티 레벨 큐에 대해서 들어봤어요?
준비 큐를 여러 개의 큐로 구성하고 새로운 프로세스가 들어올 때마다 우선순위에 따라 각각 다른 큐에 넣어 관리하는 알고리즘입니다. 
각 큐는 서로 다른 스케줄링 알고리즘을 사용합니다.<br>
우선순위가 높은 큐부터 처리되기 때문에 기아 현상이 나타날 수 있으며, 각 큐 사이에서 프로세스들이 이동할 수 없어 유연성이 떨어지는 특징이 있습니다.

<br>

## 그럼 멀티 레벨 피드백 큐는 뭐에요?
여러 큐로 나눈 준비 큐의 상위 계층에 time quantum을 두어 CPU 사용 시간에 따라 프로세스의 위치를 바꿔주고, 
스케줄링 알고리즘을 단계별로 다르게 적용하는 알고리즘입니다.

<br>

## 실시간 스케줄링에는 어떤 방법이 있나요?
Rate Monotonic 스케줄링은 프로세스의 우선순위에 따라 CPU에 프로세스를 스케줄링합니다.
이때, 우선순위는 각 프로세스가 가지는 CPU 요청 주기에 따라 주기가 짧은 프로세스가 높은 우선순위를 가지게 됩니다.<br>
Earlist Deadline First 스케줄링은 각 프로세스의 마감시간이 빠를수록 높은 우선순위를 부여합니다.
이 알고리즘은 이론적으로는 완벽하지만 프로세스가 교체되면서 발생하는 컨텍스트 스위칭의 오버헤드 때문에 딜레이가 생겨 실제로는 구현이 불가능합니다.
