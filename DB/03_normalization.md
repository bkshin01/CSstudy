# ✔️ 정규화(Normalization)

## 데이터베이스 이상현상이 무엇인지 설명해 보세요.
데이터 이상현상은 데이터베이스 내부에서 발생되는 불일치 현상을 말하며, 3 종류로 나뉩니다.<br>
`갱신 이상`은 어떤 데이터를 업데이트할 때 데이터베이스 내부에 중복된 데이터 중 일부만 갱신하여 데이터가 불일치 되는 문제입니다.<br>
`삽입 이상`은 테이블에 새로운 튜플을 삽입할 때, 특정 속성에 대한 필드 값이 존재하지 않아 불필요한 Null을 삽입하게 되는 문제입니다.<br>
`삭제 이상`은 테이블에서 어떤 속성값을 삭제하고 싶을 때, 튜플 전체를 삭제하면서 발생하는 문제입니다.

<br>

## 데이터베이스 정규화 방법에 대해 설명해 보세요.
데이터베이스 이상현상을 방지하기 위해 데이터의 중복을 없애는 목적으로 정규화를 사용합니다. 정규화는 1NF부터 6NF, 그리고 BCNF가 있습니다.

<br>

## 정규화의 장단점을 설명해 주세요.
장점은 데이터베이스 이상현상을 제거할 수 있는 것입니다.<br>
단점은 릴레이션(테이블)의 분해로 인해 조인 연산이 많아져 성능 저하가 발생할 수도 있다는 것입니다.

<br>

## 1NF는 어떻게 하는거죠?
테이블의 모든 속성이 원자값을 지니도록 분해합니다.

<br>
예시)

| 이름 | 나이 | 수강과목 |
| --- | --- | ----- |
| 홍길동 | 20 | C, C++ | 

`수강과목` 컬럼이 원자값을 가지지 못하고 있습니다. 따라서 다음처럼 변환합니다.

| 이름 | 나이 | 수강과목 |
| --- | --- | ----- |
| 홍길동 | 20 | C |
| 홍길동 | 20 | C++ |

<br>

## 2NF는?
1NF를 만족하는 테이블에 대해 완전 함수 종속을 만족하도록 테이블을 분해합니다. 
여기서 완전 함수 종속이라는 것은 기본키의 부분집합이 결정자가 되어선 안된다는 것을 의미합니다.

<br>
예시)

| 이름 | 강의명 | 강의실 | 성적 |
| --- | --- | ----- | --- |
| 홍길동 | C | 공학관 110 | 3.5 |
| 홍길동 | C++ | 공학관 200 | 4.5 |

이 테이블의 기본키는 `(이름, 강의명)`이고, 이는 성적을 결정하고 있습니다.<br>
그런데 여기서 강의실이라는 컬럼은 기본키의 부분집합인 `강의명`에 의해 결정될 수 있습니다.<br>
따라서 완전 함수 종속을 위해 다음과 같이 테이블을 분리해야 합니다.

| 이름 | 강의명 |
| --- | --- |
| 홍길동 | C |
| 홍길동 | C++ |

| 강의명 | 강의실 |
| ---  | ----- |
| C |  공학관 110 |
| C++ | 공학관 200 |

<br>

## 3NF는?
2NF를 만족하는 테이블에 대해 이행적 종속을 없애도록 테이블을 분해합니다. 
여기서 이행적 종속이란 A>B와 B>C가 성립할 때 A>C가 성립되는 것을 의미합니다.

<br>
예시)

| 학생ID | 학생 이름 | 강의ID | 강의명 | 교수ID | 교수이름 |
| ----  | ------- | ----- | ---- | --- | -- |

위와 같은 컬럼을 가지는 테이블에서는 강의ID는 교수ID에 종속되고, 교수ID는 다시 교수 이름에 종속된다.
따라서 다음고 같이 테이블을 분리해야 한다.

| 학생ID | 학생이름 |
| --- | ---|

| 강의ID | 강의명 |
| --- | ---|

| 교수ID | 교수이름 |
| --- | ---|

<br>

## BCNF는?
BCNF는 3NF를 만족하면서 모든 결정자가 후보키가 되도록 테이블을 분해합니다.

<br>
예시)

| 학생ID | 강의명 | 교수 | 학점 |
| ----- | ---- | --- | --- |

위와 같은 컬럼을 가지는 테이블을 다음 두 가지로 분해한다.

| 학생ID | 과목 | 학점 |
| ---- | --- | -- |

| 교수 | 과목 |
| ---- | ---- |

<br>

## 정규화가 반드시 필요하다고 생각해요?
정규화는 데이터 이상현상을 방지하지만 테이블을 여러개로 나누게 되므로 이후에 조인 연산을 많이 발생시켜 성능을 저하시킬수도 있습니다.
따라서 테이블 사용 시에 성능 저하가 예상되는 테이블은 의도적으로 정규화를 적용하지 않는 반정규화를 사용하기도 합니다.
