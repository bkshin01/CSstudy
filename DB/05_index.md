# ✔️ 인덱스(Index)

## 인덱스가 뭔가요?
인덱스는 데이터베이스에서 테이블의 검색 성능을 높여주는 대표적인 방법 중 하나입니다.<br>
인덱스가 있으면 데이터 탐색 시에 Full table scan을 하지 않고 Index scan을 통해 원하는 데이터를 바로 찾을 수 있어 
테이블의 검색 성능을 높힐 수 있습니다.

<br>

## 인덱스의 장단점을 말해보세요.
인덱스를 사용하면 테이블 조회 속도가 빨라집니다. 
하지만 인덱스 자료구조를 위한 저장 공간이 추가적으로 필요하고,
데이터가 자주 변경되는 속성에 인덱스를 걸면 오히려 성능이 저하될 수 있습니다.

<br>

## 왜 성능이 저하될까요?
삭제, 갱신, 삽입으로 기존의 데이터를 변경하거나 새로운 데이터를 추가하게 되면 인덱스도 함께 변경하거나 추가해줘야 합니다.
따라서 추가적인 연산이 발생하고 성능이 저하됩니다.

<br>

## 그럼 인덱스는 어떤 상황에서 쓰는게 적합할까요?
데이터의 양이 많지만 조회를 주로 하고 중복 데이터가 많지 않은 속성에 적용했을 때 좋은 성능을 보장받을 수 있습니다.

<br>

## 인덱스는 어떤 자료구조로 구현되나요?
인덱스는 Btree, B+tree, Hash, Bitmap 등으로도 구현할 수 있지만,
많은 데이터베이스 시스템에서는 B+tree 구조를 가집니다.

<br>

## 실제로 어떻게 구현되는지도 설명할 수 있나요?
인덱스를 생성하게 되면 특정 컬럼(search-key)을 기준으로 정렬하여 데이터의 물리적 위치(포인터)와 함께 별도 파일에 저장합니다.

<br>

## 클러스터형 인덱스에 대해 설명해 보세요.
클러스터형 인덱스는 특정 컬럼을 기본키로 지정할 때, 자동으로 클러스터형 인덱스가 생성되고 해당 컬럼을 기준으로 정렬되어
결과적으로 테이블 자체가 정렬된 하나의 거대한 인덱스가 됩니다.<br>
덕분에 조회의 속도는 빠르지만 갱신, 삽입, 삭제 시에 전체 테이블을 다시 재배열 해주어야 하는 오버헤드를 가지고 있습니다.

<br>

## 보조 인덱스도 설명할 수 있어요?
Non clustered index라고도 하며 데이터와 인덱스를 따로 분리하여 관리하는 것을 말합니다.
데이터는 물리적으로 정렬되지 않고, 정렬된 인덱스가 가르키는 포인터로 데이터를 탐색합니다.<br>
따라서 조회할 때는 클러스터형 인덱스보다 많은 시간이 들지만, 갱신, 삭제, 삽입 시에는 더 빠른 성능을 보입니다.

<br>

## 인덱스는 어떤 컬럼에 사용하는 것이 좋을까요?
`WHERE`절에서 자주 조회되고, 수정 빈도가 낮으며, 카디널리티는 높고, 선택도는 낮은 컬럼을 선택하는 것이 가장 좋습니다.

<br>

## 카디널리티와 선택도가 뭔가요?
카디널리티는 컬럼 내의 중복되는 데이터가 어느 정도 있는지 의미합니다.
어떤 컬럼에 중복되는 데이터가 많다면 카디널리티가 낮다고 말합니다.<br>
선택도는 카디널리티를 해당 컬럼의 전체 데이터 개수로 나눈 값으로 한 컬럼 내에 고유한 데이터의 비율을 나타냅니다.

<br>

## 결합 인덱스에 대해 설명해 주세요.
두 개 이상의 컬럼을 합쳐 인덱스를 생성한 것을 말합니다.<br>
예를 들어서 특정 성별이면서 특정 연령 이상인 사람들의 목록을 얻는 연산이 자주 수행되는 테이블이라면,
성별과 연령을 결합 인덱스로 함쳐 관리할 수 있습니다.
